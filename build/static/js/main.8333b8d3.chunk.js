(this["webpackJsonpapp-todo"]=this["webpackJsonpapp-todo"]||[]).push([[0],{32:function(e,t,n){e.exports=n(57)},37:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getLists",(function(){return E})),n.d(a,"getListTodos",(function(){return b})),n.d(a,"createTodo",(function(){return h})),n.d(a,"deleteTodo",(function(){return I}));var o=n(1),c=n.n(o),r=n(23),l=n.n(r),i=n(15),u=(n(37),n(12)),s=n(16),m=n(3),d=n(24),f=n.n(d);f.a.initializeApp({apiKey:"AIzaSyAlCUEfDYTdnaYoOtIQ-o8cU0bSigjWk1k",authDomain:"react-todo-4649a.firebaseapp.com",databaseURL:"https://react-todo-4649a.firebaseio.com",projectId:"react-todo-4649a",storageBucket:"react-todo-4649a.appspot.com",messagingSenderId:"930484674768",appId:"1:930484674768:web:1540fda55156b6052c3ed5"});var p=f.a.firestore();function E(){return p.collection("lists").get().then((function(e){return e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}))}function b(e){return p.collection("todos").where("listId","==",e).get().then((function(e){return e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}))}function h(e){return p.collection("todos").add(Object(u.a)(Object(u.a)({},e),{},{completed:!1})).then((function(e){return e.get()})).then((function(e){return Object(u.a)({id:e.id},e.data())}))}function I(e){return p.collection("todos").doc(e).delete().then((function(){return e}))}var g=Object(o.createContext)({todos:[],lists:[]}),v=n(2);function j(e){var t=e.lists;return c.a.createElement(v.Drawer,{id:"app-drawer"},c.a.createElement(v.DrawerHeader,{title:"React Todo"}),c.a.createElement(v.DrawerContent,null,c.a.createElement(v.ListGroup,null,c.a.createElement(v.List,null,[{title:"\u0417\u0430\u0434\u0430\u0447\u0438",icon:"home",to:"/"},{title:"\u0412\u0430\u0436\u043d\u043e",icon:"star",to:"/important"},{title:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435",icon:"event",to:"/planned"}].map((function(e){return c.a.createElement(v.ListItem,{component:i.b,to:e.to,key:e.icon},c.a.createElement(v.ListItemGraphic,null,c.a.createElement(v.Icon,null,e.icon)),c.a.createElement(v.ListItemText,null,e.title))}))),c.a.createElement(v.ListDivider,{element:"hr"}),c.a.createElement(v.List,null,t.map((function(e){return c.a.createElement(v.ListItem,{component:i.b,to:e.id,key:e.key},c.a.createElement(v.ListItemGraphic,null,c.a.createElement(v.Icon,null,"list")),c.a.createElement(v.ListItemText,null,e.title))}))))))}function L(e){var t=Object.assign({},e);return c.a.createElement("main",Object.assign({id:"app-content"},t))}var O=n(27);n(52);function T(e){var t=e.todo,n=e.onCompleteChange,a=e.onDelete;return c.a.createElement(v.ListItem,{className:"todo-list-item"},c.a.createElement(v.ListItemGraphic,null,c.a.createElement(v.Checkbox,{checked:t.completed,onChange:n})),c.a.createElement(v.ListItemText,null,t.title),c.a.createElement(v.ListItemMeta,null,c.a.createElement(v.IconButton,{onClick:function(){return a(t.id)}},c.a.createElement(v.Icon,null,"delete"))))}n(53);function k(e){var t=e.list,n=e.todos,a=e.onDelete;return c.a.createElement("div",{className:"todo-list"},c.a.createElement(v.Typography,{className:"todo-list__title",variant:"headline4"},t.title),c.a.createElement(v.List,{className:"todo-list"},n.map((function(e){return c.a.createElement(T,{key:e.id,todo:e,onDelete:a})}))))}n(54);function y(e){var t=e.onSubmit,n=Object(o.useState)(""),a=Object(s.a)(n,2),r=a[0],l=a[1];return c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(r),l("")},className:"todo-form"},c.a.createElement(v.List,null,c.a.createElement(v.ListItem,null,c.a.createElement(v.TextField,{label:"\u0427\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c...",value:r,onChange:function(e){return l(e.target.value)},type:"text",fullWidth:!0}))))}n(55);function D(e){var t=e.match,n=Object(o.useContext)(g),a=Object(o.useState)([]),r=Object(s.a)(a,2),l=r[0],i=r[1];Object(o.useEffect)((function(){n.getListTodos(t.params.listId).then(i)}),[n,t.params.listId]);var u=n.lists.find((function(e){return e.id===t.params.listId}));return"object"!==typeof u?"":c.a.createElement("div",{id:"todo-list-page",className:"page"},c.a.createElement(k,{list:u,todos:l,onDelete:function(e){n.deleteTodo(e).then((function(e){i(Object(O.a)(l.filter((function(t){return t.id!==e}))))}))}}),c.a.createElement(y,{onSubmit:function(e){n.createTodo({title:e,listId:u.id}).then((function(e){i([].concat(Object(O.a)(l),[e]))}))}}))}n(56);function C(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){E().then(r)}),[]),c.a.createElement(g.Provider,{value:Object(u.a)({lists:n},a)},c.a.createElement("div",{className:"app"},c.a.createElement(j,{lists:n}),c.a.createElement(L,null,c.a.createElement(m.c,null,c.a.createElement(m.a,{path:"/todos/:listId",component:D}),c.a.createElement(m.a,{path:"/:listId",component:D})))))}l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,null,c.a.createElement(C,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.8333b8d3.chunk.js.map